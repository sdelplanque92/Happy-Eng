(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,r=window.wp.components,o=window.wp.data,a=window.wp.coreData,s=window.ReactJSXRuntime;(0,e.registerBlockType)("he/category-children-carousel",{edit:({attributes:e,setAttributes:n})=>{const{title:l,parentTermId:i,hideEmpty:c}=e,d=(0,t.useBlockProps)({className:"he-catcar-editor"}),p=[{label:"— Choisir une catégorie —",value:0},...((0,o.useSelect)(e=>{const{getEntityRecords:t}=e(a.store);return t("taxonomy","category",{per_page:100,orderby:"name",order:"asc"})},[])||[]).map(e=>({label:e.name,value:e.id}))];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.InspectorControls,{children:(0,s.jsxs)(r.PanelBody,{title:"Source",children:[(0,s.jsx)(r.SelectControl,{label:"Catégorie parent",value:i,options:p,onChange:e=>n({parentTermId:Number(e)}),help:"Le carrousel affichera les catégories ENFANTS de ce terme."}),(0,s.jsx)(r.ToggleControl,{label:"Masquer les catégories vides",checked:!!c,onChange:e=>n({hideEmpty:!!e})})]})}),(0,s.jsxs)("section",{...d,children:[(0,s.jsx)(t.RichText,{tagName:"h2",placeholder:"Titre (optionnel)…",value:l,onChange:e=>n({title:e}),allowedFormats:[]}),(0,s.jsx)("p",{style:{opacity:.8},children:i?`Affichera les catégories enfants de l’ID ${i} en carrousel.`:"Choisis une catégorie parent dans la sidebar."})]})]})},save:()=>null})})();