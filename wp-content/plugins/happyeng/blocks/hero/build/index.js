(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,l=window.wp.components,t=window.ReactJSXRuntime;(0,e.registerBlockType)("he/hero-composition",{edit:({attributes:e,setAttributes:a})=>{const{heading2:n,heading3:s,text:r}=e,h=(e=>{const o=Array.isArray(e)?[...e]:[];for(;o.length<3;)o.push({label:"",url:""});return o.slice(0,3)})(e.buttons),i=(0,o.useBlockProps)({className:"he-hero-editor"}),c=(e,o)=>{const l=h.map((l,t)=>t===e?{...l,...o}:l);a({buttons:l})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.InspectorControls,{children:(0,t.jsx)(l.PanelBody,{title:"Boutons (3)",children:h.map((e,o)=>(0,t.jsxs)("div",{style:{borderTop:o?"1px solid #ddd":"none",paddingTop:o?12:0,marginTop:o?12:0},children:[(0,t.jsx)(l.TextControl,{label:`Bouton ${o+1} — Texte`,value:e.label||"",onChange:e=>c(o,{label:e})}),(0,t.jsx)(l.TextControl,{label:`Bouton ${o+1} — URL`,value:e.url||"",onChange:e=>c(o,{url:e}),placeholder:"https://… ou /page/"})]},o))})}),(0,t.jsx)("section",{...i,children:(0,t.jsxs)("div",{className:"he-hero__container",children:[(0,t.jsx)(o.RichText,{tagName:"h2",className:"he-hero__h2",placeholder:"Titre H2…",value:n,onChange:e=>a({heading2:e}),allowedFormats:[]}),(0,t.jsx)(o.RichText,{tagName:"h3",className:"he-hero__h3",placeholder:"Titre H3…",value:s,onChange:e=>a({heading3:e}),allowedFormats:[]}),(0,t.jsx)(o.RichText,{tagName:"p",className:"he-hero__text",placeholder:"Texte… (Entrée = retour à la ligne)",value:r,onChange:e=>a({text:e}),allowedFormats:["core/bold","core/italic","core/link"]}),(0,t.jsx)("div",{className:"he-hero__buttons",children:h.map((e,o)=>e.label?(0,t.jsx)("span",{className:"he-btn",children:e.label},o):null)})]})})]})},save:()=>null})})();